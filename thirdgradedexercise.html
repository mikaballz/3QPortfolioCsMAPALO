<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Club Application Form</title>
<link rel="stylesheet" href="styleforsecond.css">

<script>

const STORAGE_KEY = "clubSignUps";


function confirmSubmit() {
    return confirm("Are you sure you want to submit this application?");
}


function confirmReset() {
    return confirm("Are you sure you want to reset the form?");
}

function checkEmpty(field) {
    if (field.value.trim() === "") {
        field.classList.add("error");
    } else {
        field.classList.remove("error");
    }
}


function saveSignup(event) {

    event.preventDefault(); 

    if (!confirmSubmit()) {
        return;
    }

    const form = document.getElementById("signupForm");


    const signup = {
        studentId: form.student_id.value,
        fullName: form.full_name.value,
        birthday: form.birthday.value,
        email: form.email.value,
        mobile: form.mobile.value,
        gradeLevel: form.grade_level.value,
        status: form.status.value,
        club: form.club.value,
        reason: form.reason.value
    };

    let signups = localStorage.getItem(STORAGE_KEY);

    if (signups) {
        signups = JSON.parse(signups);
    } else {

        signups = [];
    }

   
    signups.push(signup);

    
    localStorage.setItem(STORAGE_KEY, JSON.stringify(signups));

    alert("Signup saved successfully!");

    form.reset();
}


function goToView() {
    window.location.href = "viewSignUps.html";
}

</script>
</head>
<body>

<form id="signupForm" method="post"
      onsubmit="saveSignup(event)"
      onreset="return confirmReset()">

<fieldset>
<legend>Student Information</legend>

<label>
Student ID:
<input type="number" name="student_id" required>
</label>

<label>
Full Name:
<input type="text" name="full_name" required onblur="checkEmpty(this)">
</label>

<label>
Birthday:
<input type="date" name="birthday" required>
</label>

<label>
Email Address:
<input type="email" name="email" required>
</label>

</fieldset>

<fieldset>
<legend>Additional Details</legend>

<label>
Mobile Phone:
<input type="text" name="mobile" required onblur="checkEmpty(this)">
</label>

<label>
Grade Level:
<select name="grade_level" required>
<option value="">-- Select Grade --</option>
<option value="g7">Grade 7</option>
<option value="g8">Grade 8</option>
<option value="g9">Grade 9</option>
<option value="g10">Grade 10</option>
<option value="g11">Grade 11</option>
<option value="g12">Grade 12</option>
</select>
</label>

<label>
Intern
<input type="radio" name="status" value="Intern" required>
</label>

<label>
Extern
<input type="radio" name="status" value="Extern" required>
</label>

<label>
Preferred Organization / Club:
<select name="club" required>
<option value="">-- Choose a Club --</option>
<option value="Bravura Club">Bravura Club</option>
<option value="Bake Club">Bake Club</option>
<option value="Invictus">Invictus</option>
<option value="Sagala">Sagala</option>
<option value="MUN Club">MUN Club</option>
</select>
</label>

<label>
Why do you want to join:
<textarea name="reason" rows="4" required onblur="checkEmpty(this)"></textarea>
</label>

</fieldset>

<input type="submit" value="Submit">
<input type="reset" value="Reset">
<input type="button" value="View Signups" onclick="goToView()">

</form>

</body>
</html>